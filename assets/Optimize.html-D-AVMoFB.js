import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,o as e,a as i}from"./app-2DrxyA-d.js";const n={},o=i('<h1 id="优化" tabindex="-1"><a class="header-anchor" href="#优化"><span>优化</span></a></h1><h2 id="字典gc" tabindex="-1"><a class="header-anchor" href="#字典gc"><span>字典GC</span></a></h2><p>当枚举和结构体为字典索引时，调用<code>Contain</code>方法是会拆箱装箱，则会出现GC。解决方案：</p><ul><li>把枚举转成int类型</li><li>结构体继承IEquatable接口，然后在创建一个继承IEqualityComparer的类用来对结构体作比较。把比较类实例化一个全局变量，在字典初始化时把全局比较工具对象传入字典即可。</li></ul><p>https://blog.csdn.net/qq_36576410/article/details/87909947 https://answer.uwa4d.com/question/59f716c0727b4a5d10c6dfef https://stackoverflow.com/questions/50303424/why-is-dictionary-containskey-tostring-causing-gc-alloc https://forum.unity.com/threads/solved-question-about-dictionary-any-vs-dictionary-containskey.589939/</p>',5),c=[o];function s(l,r){return e(),a("div",null,c)}const p=t(n,[["render",s],["__file","Optimize.html.vue"]]),u=JSON.parse('{"path":"/Basic/language/CSharp/Optimize.html","title":"优化","lang":"en-US","frontmatter":{"date":"2022-11-18T18:36:00.000Z","tag":["C#","Optimization"]},"headers":[{"level":2,"title":"字典GC","slug":"字典gc","link":"#字典gc","children":[]}],"git":{"createdTime":1668767760000,"updatedTime":1707212881000,"contributors":[{"name":"BanMing","email":"ban-ming@foxmail.com","commits":2},{"name":"wupeng","email":"wupeng_a2484@virtuos.com.cn","commits":2}]},"readingTime":{"minutes":0.47,"words":142},"filePathRelative":"Basic/language/CSharp/Optimize.md","localizedDate":"November 18, 2022","excerpt":"\\n<h2>字典GC</h2>\\n<p>当枚举和结构体为字典索引时，调用<code>Contain</code>方法是会拆箱装箱，则会出现GC。解决方案：</p>\\n<ul>\\n<li>把枚举转成int类型</li>\\n<li>结构体继承IEquatable接口，然后在创建一个继承IEqualityComparer的类用来对结构体作比较。把比较类实例化一个全局变量，在字典初始化时把全局比较工具对象传入字典即可。</li>\\n</ul>\\n<p>https://blog.csdn.net/qq_36576410/article/details/87909947\\nhttps://answer.uwa4d.com/question/59f716c0727b4a5d10c6dfef\\nhttps://stackoverflow.com/questions/50303424/why-is-dictionary-containskey-tostring-causing-gc-alloc\\nhttps://forum.unity.com/threads/solved-question-about-dictionary-any-vs-dictionary-containskey.589939/</p>"}');export{p as comp,u as data};
