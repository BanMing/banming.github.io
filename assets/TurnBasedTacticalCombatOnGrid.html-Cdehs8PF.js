import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{e as a,f as t,o as p}from"./app-hDk0KOIg.js";const e="/assets/2025-11-03-23-56-37-Dw7I5zxn.png",o="/assets/2025-11-03-23-55-52-BVqmdfQX.png",c="/assets/2025-11-03-23-43-52-B79ee6bJ.png",l="/assets/2025-11-05-00-08-39-3vwd4Out.gif",i="/assets/2025-11-05-00-10-58-CbKMRcaZ.png",u="/assets/2025-11-10-22-33-50-C8Z4mGGQ.gif",r={};function d(k,n){return p(),a("div",null,n[0]||(n[0]=[t('<h1 id="turnbased-tactical-combat-on-grid" tabindex="-1"><a class="header-anchor" href="#turnbased-tactical-combat-on-grid"><span>TurnBased Tactical Combat On Grid</span></a></h1><ul><li>课程地址：<a href="https://www.udemy.com/course/turn-based-tactical-combat-on-grid/" target="_blank" rel="noopener noreferrer">https://www.udemy.com/course/turn-based-tactical-combat-on-grid/</a></li><li>项目地址：<a href="https://github.com/BanMing/TurnBasedOnGrid" target="_blank" rel="noopener noreferrer">https://github.com/BanMing/TurnBasedOnGrid</a></li></ul><hr><p>接入<a href="https://github.com/000-aki-000/GameDebugMenu" target="_blank" rel="noopener noreferrer">DebugMenu插件</a>，添加<code>IntPoint</code>类型</p><hr><p>相机调试参数：</p><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><p>Grid调试器：</p><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><p>添加鼠标debug信息：</p><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><p>添加鼠标高亮格子：</p><figure><img src="'+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>修改<code>InstancesMesh</code>中某个实例的材质的参数：</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">	<span class="token keyword">const</span> FLinearColor Color <span class="token operator">=</span> <span class="token function">GetColorFromStates</span><span class="token punctuation">(</span>TileStates<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	InstancesMeshComp<span class="token operator">-&gt;</span><span class="token function">SetCustomDataValue</span><span class="token punctuation">(</span>NewInstanceIndex<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>R<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	InstancesMeshComp<span class="token operator">-&gt;</span><span class="token function">SetCustomDataValue</span><span class="token punctuation">(</span>NewInstanceIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	InstancesMeshComp<span class="token operator">-&gt;</span><span class="token function">SetCustomDataValue</span><span class="token punctuation">(</span>NewInstanceIndex<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在材质中使用<code>PerInstanceCustomData</code>节点读取：</p><figure><img src="`+i+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>使用自定义数据前提是需要设置<code>InstancesMesh</code>的<code>NumCustomDataFloats</code>变量</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">	InstancesMeshComp<span class="token operator">-&gt;</span>NumCustomDataFloats <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>添加选中状态显示：</p><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>使用<code>EnhancedInput</code> 设置输入：</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token class-name">APlayerAction</span><span class="token double-colon punctuation">::</span><span class="token function">SetupInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">	<span class="token function">check</span><span class="token punctuation">(</span>InputContext<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token function">check</span><span class="token punctuation">(</span>SelectAction<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token function">check</span><span class="token punctuation">(</span>UnSelectAction<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	APlayerController<span class="token operator">*</span> PC <span class="token operator">=</span> <span class="token class-name">UGameplayStatics</span><span class="token double-colon punctuation">::</span><span class="token function">GetPlayerController</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>PC<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>UEnhancedInputLocalPlayerSubsystem<span class="token operator">*</span> Subsystem <span class="token operator">=</span> ULocalPlayer<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>UEnhancedInputLocalPlayerSubsystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>PC<span class="token operator">-&gt;</span><span class="token function">GetLocalPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token punctuation">(</span>InputContext<span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">{</span></span>
<span class="line">			Subsystem<span class="token operator">-&gt;</span><span class="token function">AddMappingContext</span><span class="token punctuation">(</span>InputContext<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>UEnhancedInputComponent<span class="token operator">*</span> EnhancedInputComponent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>UEnhancedInputComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>PC<span class="token operator">-&gt;</span>InputComponent<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		EnhancedInputComponent<span class="token operator">-&gt;</span><span class="token function">BindAction</span><span class="token punctuation">(</span>SelectAction<span class="token punctuation">,</span> ETriggerEvent<span class="token double-colon punctuation">::</span>Started<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ThisClass<span class="token double-colon punctuation">::</span>OnSelectTile<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		EnhancedInputComponent<span class="token operator">-&gt;</span><span class="token function">BindAction</span><span class="token punctuation">(</span>UnSelectAction<span class="token punctuation">,</span> ETriggerEvent<span class="token double-colon punctuation">::</span>Started<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ThisClass<span class="token double-colon punctuation">::</span>OnUnSelectTile<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>清空绑定：</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token class-name">APlayerAction</span><span class="token double-colon punctuation">::</span><span class="token function">ShotdownInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">	APlayerController<span class="token operator">*</span> PC <span class="token operator">=</span> <span class="token class-name">UGameplayStatics</span><span class="token double-colon punctuation">::</span><span class="token function">GetPlayerController</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>PC<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>UEnhancedInputLocalPlayerSubsystem<span class="token operator">*</span> Subsystem <span class="token operator">=</span> ULocalPlayer<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>UEnhancedInputLocalPlayerSubsystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>PC<span class="token operator">-&gt;</span><span class="token function">GetLocalPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token punctuation">(</span>InputContext<span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">{</span></span>
<span class="line">			Subsystem<span class="token operator">-&gt;</span><span class="token function">RemoveMappingContext</span><span class="token punctuation">(</span>InputContext<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>UEnhancedInputComponent<span class="token operator">*</span> EnhancedInputComponent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>UEnhancedInputComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>PC<span class="token operator">-&gt;</span>InputComponent<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">{</span></span>
<span class="line">		EnhancedInputComponent<span class="token operator">-&gt;</span><span class="token function">ClearBindingsForObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,30)]))}const v=s(r,[["render",d],["__file","TurnBasedTacticalCombatOnGrid.html.vue"]]),g=JSON.parse('{"path":"/Gameplay/TurnBasedTacticalCombatOnGrid.html","title":"TurnBased Tactical Combat On Grid","lang":"en-US","frontmatter":{"date":"2025-09-09T18:03:06.000Z","tag":["Unreal Engine"]},"git":{"createdTime":1762185553000,"updatedTime":1762788026000,"contributors":[{"name":"BanMing","username":"BanMing","email":"ban-ming@foxmail.com","commits":3,"url":"https://github.com/BanMing"}]},"readingTime":{"minutes":0.99,"words":296},"filePathRelative":"Gameplay/TurnBasedTacticalCombatOnGrid.md","localizedDate":"September 9, 2025","excerpt":"\\n<ul>\\n<li>课程地址：<a href=\\"https://www.udemy.com/course/turn-based-tactical-combat-on-grid/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.udemy.com/course/turn-based-tactical-combat-on-grid/</a></li>\\n<li>项目地址：<a href=\\"https://github.com/BanMing/TurnBasedOnGrid\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/BanMing/TurnBasedOnGrid</a></li>\\n</ul>"}');export{v as comp,g as data};
