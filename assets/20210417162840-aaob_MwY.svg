<svg xmlns:ev="http://www.w3.org/2001/xml-events" height="244" ed:name="页面-1" xmlns:xlink="http://www.w3.org/1999/xlink" ed:hSpacing="30" ed:vSpacing="30" width="932" id="page100" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" viewBox="0 0 932 244" xmlns="http://www.w3.org/2000/svg"><style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st3 {fill:#454545;font-family:微软雅黑;font-size:10pt}
]]></style><defs/><rect height="244" y="0" width="932" x="0" fill="#ffffff"/><path transform="matrix(1,0,0,1,107.23,96.8)" ed:parentid="132" stroke-linecap="round" ed:tosuperid="176" d="M-13.5,35.1L3.7,35.1L3.7,-29.1C3.7,-32.4,6.4,-35.1,9.7,-35.1L13.5,-35.1" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="177" stroke="#696969"/><path transform="matrix(1,0,0,1,107.23,121.24)" ed:parentid="132" stroke-linecap="round" ed:tosuperid="178" d="M3.7,10.6L3.7,-4.6C3.7,-8,6.4,-10.6,9.7,-10.6L13.5,-10.6" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="179" stroke="#696969"/><path transform="matrix(1,0,0,1,107.23,145.68)" ed:parentid="132" stroke-linecap="round" ed:tosuperid="180" d="M3.7,-13.8L3.7,7.8C3.7,11.1,6.4,13.8,9.7,13.8L13.5,13.8" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="181" stroke="#696969"/><path transform="matrix(1,0,0,1,107.23,173.15)" ed:parentid="132" stroke-linecap="round" ed:tosuperid="182" d="M3.7,-41.3L3.7,35.3C3.7,38.6,6.4,41.3,9.7,41.3L13.5,41.3" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="183" stroke="#696969"/><path transform="matrix(1,0,0,1,648.23,202.19)" ed:parentid="182" stroke-linecap="round" ed:tosuperid="184" d="M-13.5,12.2L3.7,12.2L3.7,-6.2C3.7,-9.5,6.4,-12.2,9.7,-12.2L13.5,-12.2" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="185" stroke="#696969"/><path transform="matrix(1,0,0,1,648.23,217.43)" ed:parentid="182" stroke-linecap="round" ed:tosuperid="186" d="M3.7,-3C3.7,0.3,6.4,3,9.7,3L13.5,3" stroke-width="1.33333" stroke-linejoin="round" fill="none" id="187" stroke="#696969"/><g transform="matrix(1,0,0,1,21.33,107.9)" ed:layout="rightmap" ed:width="72.40000000000001" ed:topictype="drilltop" ed:height="23.98333250880241" id="132"><path d="M0,24L72.4,24" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">四次挥手</tspan></text></g><g transform="matrix(1,0,0,1,120.73,19.33)" ed:parentid="132" ed:width="514" ed:height="42.38333250880241" id="176"><path d="M0,42.4L514,42.4" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">1.客户端发送断开连接请求，并停止发送数据，客户端进入FIN_WAIT_1状态，此</tspan><tspan style="white-space:pre" y="34.5" x="8">时客户端还可以接收数据</tspan></text></g><g transform="matrix(1,0,0,1,120.73,68.22)" ed:parentid="132" ed:width="514" ed:height="42.38333250880241" id="178"><path d="M0,42.4L514,42.4" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">2.服务器收到FIN断开请求，回复收FIN断开确认请求。服务器进入CLOSE_WAIT状</tspan><tspan style="white-space:pre" y="34.5" x="8">态，客户端进入FIN_WAIT_2状态</tspan></text></g><g transform="matrix(1,0,0,1,120.73,117.1)" ed:parentid="132" ed:width="514" ed:height="42.38333250880241" id="180"><path d="M0,42.4L514,42.4" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">3.当服务器没有数据要求发送时，服务器发送一个FIN报文，此时服务器进入</tspan><tspan style="white-space:pre" y="34.5" x="8">LAST_ACK状态，等待客户端确认</tspan></text></g><g transform="matrix(1,0,0,1,120.73,172.02)" ed:parentid="132" ed:width="514" ed:height="42.38333250880241" id="182"><path d="M0,42.4L514,42.4" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">4.客户端收到服务器的FIN报文后，给服务器发送一个ACK报文，确认序列号为收到</tspan><tspan style="white-space:pre" y="34.5" x="8">的序号+1。此时客户端进入TIME_WAIT状态，等待2MSL</tspan></text></g><g transform="matrix(1,0,0,1,661.73,165.98)" ed:parentid="182" ed:width="249.2" ed:height="23.98333250880241" id="184"><path d="M0,24L249.2,24" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">为了确认服务器收到确认报文，可重发</tspan></text></g><g transform="matrix(1,0,0,1,661.73,196.47)" ed:parentid="182" ed:width="154" ed:height="23.98333250880241" id="186"><path d="M0,24L154,24" stroke-width="1.33333" stroke-linejoin="round" fill="none" stroke="#696969"/><text class="st3"><tspan style="white-space:pre" y="16.1" x="8">为了清空本地报文数据</tspan></text></g></svg>